@page
@model DisasterAlleviationFoundation.Pages.Main.ContactModel
@{
    ViewData["Title"] = "Contact Us";
}
<header class="header" data-header>

    <div class="container">

        <div class="overlay" data-overlay></div>

        <a href="#" class="logo"><img src="../Images/logo-removebg-preview.png" alt="DAF logo"></a>

        <button class="menu-open-btn" data-menu-open-btn><ion-icon name="menu-outline"></ion-icon></button>

        <nav class="navbar" data-navbar>

            <button class="menu-close-btn" data-menu-close-btn><ion-icon name="close-outline"></ion-icon></button>

            <a href="#" class="logo"><img src="../Images/logo-removebg-preview.png" alt="DAF logo"></a>

            <ul class="navbar-list">
                <li><a href="/Index" class="navbar-link">Home</a></li>
                <li><a href="/Main/About" class="navbar-link">About Us</a></li>
                <li><a href="#" class="navbar-link">Contact Us</a></li>
                <li><a href="/Main/Services" class="navbar-link">Get Involved</a></li>

            </ul>

            <button class="btn btn-secondary" onclick="location.href='/Accounts/Login'">Sign In</button>
        </nav>

    </div>

</header>
<main>

    <article>

        <section class="hero">

            <div class="container">


                <figure class="hero-banner">
                    <img src="../Images/touch.jpg">
                </figure>

                <div class="hero-content">

                    <h1 class="h1 hero-title">Get in touch with us</h1>

                    <p class="section-text">
                        Get in contact with us
                    </p>

                </div>

            </div>

        </section>

        <section class="contact-form">

            <div class="container">

                <div class="contact-contaner" style="padding: 20px">

                    <div class="icons">

                        <h2 class="h2 about-title">Get In Touch</h2>

                        <p class="section-text">
                            Below is our contact information through social media
                        </p>


                        <ul class="social-list" style="display: flex;">

                            <li>
                                <a href="#" class="social-link">
                                    <ion-icon name="logo-google" style="height: 5rem; width: 4rem; margin-right: 2rem"></ion-icon>
                                </a>
                            </li>

                            <li>
                                <a href="#" class="social-link">
                                    <ion-icon name="logo-twitter" style="height: 5rem; width: 4rem; margin-right: 2rem"></ion-icon>
                                </a>
                            </li>

                            <li>
                                <a href="#" class="social-link">
                                    <ion-icon name="logo-instagram" style="height: 5rem; width: 4rem; margin-right: 2rem"></ion-icon>
                                </a>
                            </li>

                            <li>
                                <a href="#" class="social-link">
                                    <ion-icon name="logo-linkedin" style="height: 5rem; width: 4rem; margin-right: 2rem"></ion-icon>
                                </a>
                            </li>

                        </ul>

                    </div>

                    <div class="form contactUS">

                        <form class="form" id="contactUs" method="post" style="width: 500px">

                            <input type="hidden" name="formType" value="contact" />

                            <h1 class="form-text">Contact Us</h1>

                            <div id="Details" class="FirstName">

                                <input type="text" id="firstName" class="input" name="firstName" placeholder="">
                                <label class="label" id="firstName">First Name</label>
                                <span id="firstNameError" class="error-message"></span>

                            </div>

                            <div id="Details" class="LastName">

                                <input type="text" id="lastName" name="lastName" class="input" placeholder="">
                                <label class="label" for="lastName">Last Name</label>
                                <span id="lastNameError" class="error-message"></span>

                            </div>

                            <div id="Details" class="Email">

                                <input type="text" class="input" id="email" name="email" placeholder="">
                                <label class="label" for="email">Email</label>
                                <span id="emailError" class="error-message"></span>

                            </div>

                            <div id="Details" class="Phone">

                                <input type="number" class="input" id="phone" name="phone" placeholder="" maxlength="10" inputmode="numeric">
                                <label class="label" for="phone">Phone Number</label>
                                <span id="phoneError" class="error-message"></span>

                            </div>

                            <div id="Details" class="Message">

                                <textarea type="text" class="input" id="message" name="message" rows="4" placeholder="" style="height: 150px" maxlength="50"></textarea>
                                <label class="label" for="message">Message</label>
                                <span id="messageError" class="error-message"></span>

                            </div>

                            <p>@Model.alertContact</p>
                            <br />
                            <button type="submit">Submit</button>

                        </form>

                    </div>


                </div>

            </div>

        </section>

        <section class="cta">
            <div class="container">

                <div class="title-wrapper">

                    <h2 class="h2 cta-title">
                        <span>Subscribe to our newsletter</span>
                    </h2>
                </div>


            </div>

            <div class="container">

                <form class="form" id="subscribeForm" method="post">

                    <input type="hidden" name="formType" value="subscribe" />

                    <div id="Details" class="EmailForm">

                        <input type="text" id="emailSubscribe" class="input" name="emailSubscribe" placeholder="">
                        <label class="label">Email</label>
                        <span id="emailSubscribeError" class="error-message"></span>

                    </div>

                    <p>@Model.alertSub</p>
                    <br />
                    <button type="submit" class="btn btn-primary">Subscribe</button>

                </form>

            </div>


        </section>


    </article>

</main>
<footer class="footer">

    <div class="footer-top">
        <div class="container">

            <div class="footer-brand">

                <a href="#" class="logo">
                    <img src="../Images/logo-removebg-preview.png">
                </a>

                <p class="footer-text">
                    Disaster Alleviation Foundation A home For ALL.
                </p>

                <ul class="social-list">

                    <li>
                        <a href="#" class="social-link">
                            <ion-icon name="logo-google"></ion-icon>
                        </a>
                    </li>

                    <li>
                        <a href="#" class="social-link">
                            <ion-icon name="logo-twitter"></ion-icon>
                        </a>
                    </li>

                    <li>
                        <a href="#" class="social-link">
                            <ion-icon name="logo-instagram"></ion-icon>
                        </a>
                    </li>

                    <li>
                        <a href="#" class="social-link">
                            <ion-icon name="logo-linkedin"></ion-icon>
                        </a>
                    </li>

                </ul>

            </div>

            <div class="footer-link-box">

                <ul class="footer-list">

                    <li>
                        <p class="footer-link-title">Values</p>
                    </li>

                    <li>
                        <a href="#" class="footer-link">Mission</a>
                    </li>

                    <li>
                        <a href="#" class="footer-link">Goal</a>
                    </li>

                    <li>
                        <a href="#" class="footer-link">Beliefs</a>
                    </li>

                </ul>

                <ul class="footer-list">

                    <li>
                        <p class="footer-link-title">Disaster Alleviation Foundation</p>
                    </li>

                    <li>
                        <a href="../Main/about.html" class="footer-link">About</a>
                    </li>

                    <li>
                        <a href="#" class="footer-link">Terms</a>
                    </li>

                    <li>
                        <a href="#" class="footer-link">Privacy Policy</a>
                    </li>

                    <li>
                        <a href="../Main/volunteer.html" class="footer-link">Volunteer</a>
                    </li>

                </ul>

                <ul class="footer-list">

                    <li>
                        <p class="footer-link-title">Report Disasters </p>
                    </li>

                    <li>
                        <a href="../Main/report.html" class="footer-link">Report Disaster</a>
                    </li>

                    <li>
                        <a href="#" class="footer-link">Stay Informed</a>
                    </li>

                </ul>

                <ul class="footer-list">

                    <li>
                        <p class="footer-link-title">Contact</p>
                    </li>

                    <li class="contact-item">
                        <span>Call : </span>

                        <a href="tel:0112342311" class="contact-link">011 234 2311</a>
                    </li>

                    <li class="contact-item">
                        <span>Email : </span>

                        <a href="mailto:disater.alleviation,foundation@gmail.com" class="contact-link">disater.alleviation.foundation@gmail.co.za</a>
                    </li>

                    <li class="contact-item">
                        <span>Address : </span>

                        <a href="#" class="contact-link">
                            <address>Johannesburg, South Africa</address>
                        </a>
                    </li>

                </ul>

            </div>

        </div>
    </div>

    <div class="footer-bottom">
        <div class="container">
            <p class="copyright">
                &copy; 2024 <a href="">Disater Alleviation Foundation</a>. All right reserved
            </p>
        </div>
    </div>

</footer>


<script>

    //nav functionality
    const navOpenBtn = document.querySelector("[data-menu-open-btn]");
    const navCloseBtn = document.querySelector("[data-menu-close-btn]");
    const navbar = document.querySelector("[data-navbar]");
    const overlay = document.querySelector("[data-overlay]");

    const navElemArr = [navOpenBtn, navCloseBtn, overlay];

    for (let i = 0; i < navElemArr.length; i++) {

        navElemArr[i].addEventListener("click", function () {

            navbar.classList.toggle("active");
            overlay.classList.toggle("active");

        });

    }


    //header functionality
    const header = document.querySelector("[data-header]");

    window.addEventListener("scroll", function () {

        window.scrollY >= 20 ? header.classList.add("active") : header.classList.remove("active");

    });

    //contact form
    document.getElementById("contactUs").addEventListener("submit", function (event) {



        //clear existing errors
        clearErrorMessages();

        // Get form values
        const firstName = document.getElementById("firstName").value.trim();
        const lastName = document.getElementById("lastName").value.trim();
        const email = document.getElementById("email").value.trim();
        const phone = document.getElementById("phone").value.trim();
        const message = document.getElementById("message").value;


        //validation functions
        let nameError = validateUserNames(firstName);
        let lastNameError = validateUserNames(lastName);

        // Validation flags
        let isValid = true;

        // First Name Validation
        if (nameError !== "") {
            isValid = false;
            displayErrorMessage("firstNameError", nameError);
        }

        // Last Name Validation
        if (lastNameError !== "") {
            isValid = false;
            displayErrorMessage("lastNameError", lastNameError);
        }

        //email validation
        if (email === "") {
            isValid = false;
            displayErrorMessage("emailError", "Email Required");
        }
        if (!validateEmail(email)) {
            isValid = false;
            displayErrorMessage("emailError", "Invalid Email Address.");
        }

        if (phone === "") {
            isValid = false;
            displayErrorMessage("phoneError", "Phone Required");
        }
        if(phone.length > 11){
            isValid = false;
            displayErrorMessage("phoneError", "Phone Must Be 10 Digits");
        }

        if (message === "") {
            isValid = false;
            displayErrorMessage("messageError", "Message Required");
        }

        if (!isValid) {
            //prevent default
            event.preventDefault();
        }


    });//end


    // subscribe form event
    document.getElementById("subscribeForm").addEventListener("submit", function (event) {

        //clear existing errors
        clearErrorMessages();

        //value from the form
        const email = document.getElementById("emailSubscribe").value.trim();

        // Validation flags
        let isValid = true;

        // Email Validation
        if (email === "") {
            isValid = false;
            displayErrorMessage("emailSubscribeError", "Email is required.");
        }
        if (!validateEmail(email)) {
            isValid = false;
            displayErrorMessage("emailSubscribeError", "Invalid Email Address.");
        }


        if (!isValid) {
            //prevent
            event.preventDefault();

        }

    });//end

    // Function to display error message
    function displayErrorMessage(elementId, message) {
        document.getElementById(elementId).textContent = message;
    }

    // Function to clear all error messages
    function clearErrorMessages() {
        let errorMessages = document.querySelectorAll(".error-message");
        errorMessages.forEach(function (errorMessage) {
            errorMessage.textContent = "";
        });
    }

    // Function to validate email format using regex
    function validateEmail(email) {
        const re = /^[^\s@@]+@@[^\s@@]+\.[^\s@@]+$/;
        return re.test(email);
    }

    // Names validation function
    function validateUserNames(name) {
        const hasNumber = /[0-9]/.test(name); // Number
        const hasSpecialChar = /[!@@#\$%\^\&*\)\(+=._-]/.test(name); // Special character

        let errorMessage = "";
        if (name === "") errorMessage += "Name is required.\n";
        if (name.length < 3) errorMessage += "Name cannot be less than 3 letters.\n";
        if (hasNumber) errorMessage += "Name cannot contain numbers.\n";
        if (hasSpecialChar) errorMessage += "Name cannot contain special characters.\n";

        return errorMessage;
    }


</script>
